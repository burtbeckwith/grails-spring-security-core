<html><head><meta content='text/html; charset=utf-8' http-equiv='Content-type'></meta><title>10.12. Hierarchical Roles</title><link title='Ref' charset='utf-8' rel='stylesheet' type='text/css' href='../css/main.css' media='screen'></link></head><body><body class='body'>
    Hierarchical roles are a convenient way to reduce some clutter in your request mappings. For example, if you have several types of 'admin' roles and any one of them can be used to access some URL pattern, then without using hierarchical roles you need to specify all of them:<p class='paragraph'></p><div class='code'><pre><span class='java-keyword'>package</span> com.mycompany.myapp<p class='paragraph'></p><span class='java-keyword'>import</span> grails.plugins.springsecurity.Secured<p class='paragraph'></p>class SomeController {<p class='paragraph'></p>   @Secured(['ROLE_ADMIN', 'ROLE_FINANCE_ADMIN', 'ROLE_SUPERADMIN'])
   def someAction = {
      &#x2026;
   }
}</pre></div><p class='paragraph'></p>But if you have a business rule that says that being granted <code>ROLE_FINANCE_ADMIN</code> implies being granted <code>ROLE_ADMIN</code>, and that being granted <code>ROLE_SUPERADMIN</code> implies being granted <code>ROLE_FINANCE_ADMIN</code>, then you can express that hierarchy as<p class='paragraph'></p><div class='code'><pre>grails.plugins.springsecurity.roleHierarchy = '''
   ROLE_SUPERADMIN &gt; ROLE_FINANCE_ADMIN
   ROLE_FINANCE_ADMIN &gt; ROLE_ADMIN
'''</pre></div><p class='paragraph'></p>Then you can simplify your mappings by specifying only the roles that are required:<p class='paragraph'></p><div class='code'><pre><span class='java-keyword'>package</span> com.mycompany.myapp<p class='paragraph'></p><span class='java-keyword'>import</span> grails.plugins.springsecurity.Secured<p class='paragraph'></p>class SomeController {<p class='paragraph'></p>   @Secured(['ROLE_ADMIN'])
   def someAction = {
      &#x2026;
   }
}</pre></div><p class='paragraph'></p>You can also reduce the number of granted roles in the database using this approach - where previously you had to grant <code>ROLE_SUPERADMIN</code>, <code>ROLE_FINANCE_ADMIN</code>, and <code>ROLE_ADMIN</code>, now you only need to grant <code>ROLE_SUPERADMIN</code>.<p class='paragraph'></p>
<script type="text/javascript">
	var _gaq = _gaq || [];
	_gaq.push(['_setAccount', 'UA-16219500-1']);
	_gaq.push(['_trackPageview']);

	(function() {
		var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
		ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
		var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
	})();
</script>
</body></html>