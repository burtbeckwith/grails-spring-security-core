<html><head><meta content='text/html; charset=utf-8' http-equiv='Content-type'></meta><title>4.1. Security Tags</title><link title='Ref' charset='utf-8' rel='stylesheet' type='text/css' href='../css/main.css' media='screen'></link></head><body><body class='body'>
    The plugin comes with a few GSP tags to support conditional display based on whether the user is authenticated, and/or has the required role to perform some action. All of the tags are in the <code>sec</code> namespace and are implemented in <code>grails.plugins.springsecurity.SecurityTagLib</code>.<p class='paragraph'></p><h4>ifLoggedIn</h4><p class='paragraph'></p>Displays the inner body content if the user is authenticated.<p class='paragraph'></p>Example:<p class='paragraph'></p><div class='code'><pre>&lt;sec:ifLoggedIn&gt;
Welcome Back!
&lt;/sec:ifLoggedIn&gt;</pre></div><p class='paragraph'></p><h4>ifNotLoggedIn</h4><p class='paragraph'></p>Displays the inner body content if the user is not authenticated.<p class='paragraph'></p>Example:<p class='paragraph'></p><div class='code'><pre>&lt;sec:ifNotLoggedIn&gt;
&lt;g:link controller='login' action='auth'&gt;Login&lt;/g:link&gt;
&lt;/sec:ifNotLoggedIn&gt;</pre></div><p class='paragraph'></p><h4>ifAllGranted</h4><p class='paragraph'></p>Displays the inner body content only if all of the listed roles are granted.<p class='paragraph'></p>Example:<p class='paragraph'></p><div class='code'><pre>&lt;sec:ifAllGranted roles=<span class='java-quote'>"ROLE_ADMIN,ROLE_SUPERVISOR"</span>&gt;secure stuff here&lt;/sec:ifAllGranted&gt;</pre></div><p class='paragraph'></p><h4>ifAnyGranted</h4><p class='paragraph'></p>Displays the inner body content if at least one of the listed roles are granted.<p class='paragraph'></p>Example:<p class='paragraph'></p><div class='code'><pre>&lt;sec:ifAnyGranted roles=<span class='java-quote'>"ROLE_ADMIN,ROLE_SUPERVISOR"</span>&gt;secure stuff here&lt;/sec:ifAnyGranted&gt;</pre></div><p class='paragraph'></p><h4>ifNotGranted</h4><p class='paragraph'></p>Displays the inner body content if none of the listed roles are granted.<p class='paragraph'></p>Example:<p class='paragraph'></p><div class='code'><pre>&lt;sec:ifNotGranted roles=<span class='java-quote'>"ROLE_USER"</span>&gt;non-user stuff here&lt;/sec:ifNotGranted&gt;</pre></div><p class='paragraph'></p><h4> loggedInUserInfo</h4><p class='paragraph'></p>Displays the value of the specified authentication field if logged in. For example this will show the username property:<p class='paragraph'></p><div class='code'><pre>&lt;sec:loggedInUserInfo field=<span class='java-quote'>"username"</span>/&gt;</pre></div><p class='paragraph'></p>and if you have customized the authentication to add a <code>fullName</code> property, you would access it using<p class='paragraph'></p><div class='code'><pre>Welcome Back &lt;sec:loggedInUserInfo field=<span class='java-quote'>"fullName"</span>/&gt;</pre></div><p class='paragraph'></p><h4> username</h4><p class='paragraph'></p>Displays the value of the authentication <code>username</code> field if logged in.<p class='paragraph'></p><div class='code'><pre>&lt;sec:ifLoggedIn&gt;
Welcome Back &lt;sec:username/&gt;!
&lt;/sec:ifLoggedIn&gt;
&lt;sec:ifNotLoggedIn&gt;
&lt;g:link controller='login' action='auth'&gt;Login&lt;/g:link&gt;
&lt;/sec:ifNotLoggedIn&gt;</pre></div><p class='paragraph'></p><h4>ifSwitched</h4><p class='paragraph'></p>Displays the inner body content only if the current user switched from another user.<p class='paragraph'></p><div class='code'><pre>&lt;sec:ifLoggedIn&gt;
Logged in as &lt;sec:username/&gt;
&lt;/sec:ifLoggedIn&gt;<p class='paragraph'></p>&lt;sec:ifSwitched&gt;
&lt;a href='${request.contextPath}/j_spring_security_exit_user'&gt;
   Resume as &lt;sec:switchedUserOriginalUsername/&gt;
&lt;/a&gt;
&lt;/sec:ifSwitched&gt;<p class='paragraph'></p>&lt;sec:ifNotSwitched&gt;<p class='paragraph'></p>   &lt;sec:ifAllGranted roles='ROLE_SWITCH_USER'&gt;<p class='paragraph'></p>   &lt;form action='${request.contextPath}/j_spring_security_switch_user' method='POST'&gt;<p class='paragraph'></p>      Switch to user: &lt;input type='text' name='j_username'/&gt;&lt;br/&gt;<p class='paragraph'></p>      &lt;input type='submit' value='Switch'/&gt; &lt;/form&gt;<p class='paragraph'></p>   &lt;/sec:ifAllGranted&gt;<p class='paragraph'></p>&lt;/sec:ifNotSwitched&gt;</pre></div><p class='paragraph'></p><h4>ifNotSwitched</h4><p class='paragraph'></p>Displays the inner body content only if the current user has not switched from another user.<p class='paragraph'></p><h4>switchedUserOriginalUsername</h4><p class='paragraph'></p>Renders the original user's username if the current user switched from another user.<p class='paragraph'></p>
<script type="text/javascript">
	var _gaq = _gaq || [];
	_gaq.push(['_setAccount', 'UA-16219500-1']);
	_gaq.push(['_trackPageview']);

	(function() {
		var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
		ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
		var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
	})();
</script>
</body></html>