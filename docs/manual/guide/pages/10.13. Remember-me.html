<html><head><meta content='text/html; charset=utf-8' http-equiv='Content-type'></meta><title>10.13. Remember-me</title><link title='Ref' charset='utf-8' rel='stylesheet' type='text/css' href='../css/main.css' media='screen'></link></head><body><body class='body'>
    Spring Security supports creating a remember-me cookie so users aren't required to login with a username and password for each session. This is optional and is usually implemented as a checkbox on the login form; the default <code>auth.gsp</code> supplied by the plugin has this feature.<p class='paragraph'></p>There are a few configuration attributes related to remember-me:<p class='paragraph'></p><table cellpadding='0' class='wiki-table' border='0' cellspacing='0'><tr><th><strong class='bold'>Property</strong></th><th><strong class='bold'>Default Value</strong></th><th><strong class='bold'>Meaning</strong></th></tr><tr class='table-odd'><td>rememberMe.cookieName</td><td>'grails_remember_me'</td><td>remember-me cookie name - should be unique per application</td></tr><tr class='table-even'><td>rememberMe.alwaysRemember</td><td><code>false</code></td><td>create a remember-me cookie even if there's no checkbox on the form if <code>true</code></td></tr><tr class='table-odd'><td>rememberMe.tokenValiditySeconds</td><td>1209600 (14 days)</td><td>max age of the cookie in seconds</td></tr><tr class='table-even'><td>rememberMe.parameter</td><td>'_spring_security_remember_me'</td><td>Login form remember-me checkbox name</td></tr><tr class='table-odd'><td>rememberMe.key</td><td>'grailsRocks'</td><td>a value used to encode cookies - should be unique per application</td></tr><tr class='table-even'><td>rememberMe.persistent</td><td><code>false</code></td><td>if <code>true</code> store persistent login information in the database</td></tr><tr class='table-odd'><td>rememberMe.persistentToken.domainClassName</td><td>'PersistentLogin'</td><td>domain class used to manage persistent logins</td></tr><tr class='table-even'><td>rememberMe.persistentToken.seriesLength</td><td>16</td><td>the number of characters in the cookie's <code>series</code> attribute</td></tr><tr class='table-odd'><td>rememberMe.persistentToken.tokenLength</td><td>16</td><td>the number of characters in the cookie's <code>token</code> attribute</td></tr><tr class='table-even'><td>atr.rememberMeClass</td><td><a target='blank' href='http://static.springsource.org/spring-security/site/docs/3.0.x/apidocs/org/springframework/security/authentication/RememberMeAuthenticationToken.html'>RememberMeAuthenticationToken</a></td><td>remember-me authentication class</td></tr></table><p class='paragraph'></p>Three attributes that you're most likely to change are
<ul class='star'><li><code>rememberMe.cookieName</code> - this is purely aesthetic since most users won't look at their cookies, but you probably want the name displayed to be something application-specific and not "grails_remember_me"</li><li><code>rememberMe.key</code> - this is used as part of a salt when encrypting the cookie, so changing it from the default will make it that much harder to do brute force attacks</li><li><code>rememberMe.tokenValiditySeconds</code> - the default is two weeks, but you can set it to whatever makes sense for your application</li></ul><p class='paragraph'></p><h4>Persistent logins</h4><p class='paragraph'></p>The remember-me cookie is very secure but for an even stronger solution you can use persistent logins that store the username in the database. See the <a target='blank' href='http://static.springsource.org/spring-security/site/docs/3.0.x/reference/remember-me.html'>Spring Security docs</a> for a description of the implementation.<p class='paragraph'></p>This is also useful for authentication schemes like OpenID and Facebook, where you don't manage passwords in your database, but most of the other user information is stored locally. Without a password you can't use the standard cookie format, so persistent logins enable remember-me cookies in these scenarios.<p class='paragraph'></p>To use this feature, run the <a class='Scripts' href='../ref/Scripts/s2-create-persistent-token.html'>s2-create-persistent-token</a> script. This will create the domain class, and register its name in <code>grails-app/conf/Config.groovy</code>. It will also enable persistent logins by setting <code>rememberMe.persistent</code> to <code>true</code>.

    
<script type="text/javascript">
	var _gaq = _gaq || [];
	_gaq.push(['_setAccount', 'UA-16219500-1']);
	_gaq.push(['_trackPageview']);

	(function() {
		var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
		ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
		var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
	})();
</script>
</body></html>