<html>
    <head>
        <meta http-equiv="Content-type" content="text/html; charset=utf-8"/>
        <title>10.2. Basic and Digest Auth</title>
        <link rel="stylesheet" href="../css/main.css" type="text/css" media="screen" title="Ref" charset="utf-8"/>
    </head>
    <body class="body">
    <h4>Basic Auth</h4>
To use <a href="http://en.wikipedia.org/wiki/Basic_access_authentication" target="blank">HTTP Basic Authentication</a> in your application set the <code>useBasicAuth</code> attribute to <code>true</code>. You should also change the <code>basic.realmName</code> from its default value to one that's appropriate for your application, e.g.<p class="paragraph"/><div class="code"><pre>grails.plugins.springsecurity.useBasicAuth = <span class="java&#45;keyword">true</span>
grails.plugins.springsecurity.basic.realmName = <span class="java&#45;quote">"Ralph's Bait and Tackle"</span></pre></div><p class="paragraph"/>With this in place, users will be prompted with the standard browser login dialog instead of being redirected to a login page.<p class="paragraph"/><h4>Digest Auth</h4><p class="paragraph"/><a href="http://en.wikipedia.org/wiki/Digest_access_authentication" target="blank">Digest Authentication</a> is similar to Basic auth but is more secure in that it doesn't send your password in obfuscated cleartext. It looks just like Basic auth in practice - you get the same browser popup dialog when you authenticate. But since the credential transfer is genuinely encrypted (instead of just Base64-encoded as with Basic auth) you don't need to use SSL to guard your logins.<p class="paragraph"/>There is one issue with using Digest auth - by default you must store cleartext passwords in your database. This is because the browser encrypts your password along with the username and Realm name, and this is compared to the password encrypted using the same algorithm during authentication. The browser doesn't know about your <code>MessageDigest</code> algorithm or salt source, so to encrypt them the same way you need to load a cleartext password from the database.<p class="paragraph"/>However the plugin does provide an alternative, but it has no configuration options (in particular the digest algorithm cannot be changed). If <code>digest.useCleartextPasswords</code> is <code>false</code> (the default) then the <code>passwordEncoder</code> bean will be replaced with an instance of <code>grails.plugins.springsecurity.DigestAuthPasswordEncoder</code>. This encoder uses the same approach as the browser, i.e. it combines your password along with your username and Realm name essentially as a salt, and encrypting with MD5. MD5 is not recommended in general but given the typical size of the salt it is reasonably safe to use.<p class="paragraph"/>The only required attribute is <code>useDigestAuth</code> which you must set to <code>true</code>, but you'll probably also want to change the realm name too:<p class="paragraph"/><div class="code"><pre>grails.plugins.springsecurity.useDigestAuth = <span class="java&#45;keyword">true</span>
grails.plugins.springsecurity.digest.realmName = <span class="java&#45;quote">"Ralph's Bait and Tackle"</span></pre></div><p class="paragraph"/>There are a few other configuration options that you'll be less likely to need to change.<p class="paragraph"/><table class="wiki-table" cellpadding="0" cellspacing="0" border="0"><tr><th><strong class="bold">Property</strong></th><th><strong class="bold">Default Value</strong></th><th><strong class="bold">Meaning</strong></th></tr><tr class="table-odd"><td>digest.realmName</td><td>'Grails Realm'</td><td>The realm name that's displayed in the browser popup</td></tr><tr class="table-even"><td>digest.key</td><td>'changeme'</td><td>A key that's used to build the nonce for authentication; should be changed but that's not required</td></tr><tr class="table-odd"><td>digest.nonceValiditySeconds</td><td>300</td><td>the duration that a nonce stays valid</td></tr><tr class="table-even"><td>digest.passwordAlreadyEncoded</td><td><code>false</code></td><td>whether you're managing the password encryption yourself</td></tr><tr class="table-odd"><td>digest.createAuthenticatedToken</td><td><code>false</code></td><td>if <code>true</code> creates an authenticated <code>UsernamePasswordAuthenticationToken</code> to avoid loading the user from the database twice (but this skips the isAccountNonExpired(), isAccountNonLocked(), isCredentialsNonExpired(), isEnabled() checks so this is not advised)</td></tr><tr class="table-even"><td>digest.useCleartextPasswords</td><td><code>false</code></td><td>if <code>true</code> then a cleartext password encoder will be used (not recommended); if <code>false</code> then passwords encrypted by <code>DigestAuthPasswordEncoder</code> will be stored in the database</td></tr></table><p class="paragraph"/><p class="paragraph"/>
    
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try{
var pageTracker = _gat._getTracker('UA-16219500-1');
pageTracker._trackPageview();
} catch(err) {}
</script>
</body>
</html>
